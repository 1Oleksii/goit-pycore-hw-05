import re
from typing import Generator, Callable

def generator_numbers(text: str) -> Generator[float, None, None]:
    """–ì–µ–Ω–µ—Ä—É—î –≤—Å—ñ –¥—ñ–π—Å–Ω—ñ —á–∏—Å–ª–∞ —É —Ç–µ–∫—Å—Ç—ñ.
    
    –ú–æ—è –≥—Ä–æ—à–æ–≤–∞ –º–∞—à–∏–Ω–∞ - –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –≤—Å—ñ —Ü–∏—Ñ—Ä–æ–≤—ñ —Å–∫–∞—Ä–±–∏ –≤ —Ç–µ–∫—Å—Ç—ñ!
    –Ø –Ω–µ —Ç—ñ–ª—å–∫–∏ –≤–∏–ª–æ–≤–ª—é—é —á–∏—Å–ª–∞ –º—ñ–∂ –ø—Ä–æ–±—ñ–ª–∞–º–∏, –∞–ª–µ –π —Ç—ñ, —â–æ 
    –ø—Ä–∏—á–∞—ó–ª–∏—Å—è –Ω–∞ –ø–æ—á–∞—Ç–∫—É –∞–±–æ –≤ –∫—ñ–Ω—Ü—ñ —Ä—è–¥–∫–∞. –ñ–æ–¥–Ω–µ —á–∏—Å–ª–æ –Ω–µ –≤—Ç–µ—á–µ!
    """
# –û—Å—å –º–æ—è —Å—É–ø–µ—Ä –¥–µ—Ç–µ–∫—Ç–∏–≤–Ω–∞ –≤–µ—Ä—Å—ñ—è! –®—É–∫–∞—î –Ω–µ —Ç—ñ–ª—å–∫–∏ —á–∏—Å–ª–∞ –º—ñ–∂ –ø—Ä–æ–±—ñ–ª–∞–º–∏, —è–∫ —É –∑–∞–≤–¥–∞–Ω–Ω—ñ, 
# –∞–ª–µ –π –¥–æ–¥–∞—Ç–∫–æ–≤–æ ‚Äì —á–∏—Å–ª–∞, —â–æ —Ö–æ–≤–∞—é—Ç—å—Å—è –Ω–∞ –ø–æ—á–∞—Ç–∫—É —á–∏ –≤ –∫—ñ–Ω—Ü—ñ —Ä—è–¥–∫–∞! üí•

    pattern = r'(?<= )\d+\.\d+(?= )|(?<= )\d+(?= )|^\d+\.\d+(?= )|(?<= )\d+\.\d+$|^\d+(?= )|(?<= )\d+$'
    
    # –°—Ç–≤–æ—Ä—é—é –º–Ω–æ–∂–∏–Ω—É, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –¥—É–±–ª—ñ–≤. –Ø–∫ –∫–∞–∂—É—Ç—å - 
    # "–û–¥–Ω–µ –π —Ç–µ –∂ —á–∏—Å–ª–æ –¥–≤—ñ—á—ñ –Ω–µ —Ä–∞—Ö—É—î—Ç—å—Å—è!" (—Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∞ –º—É–¥—Ä—ñ—Å—Ç—å)
    found_numbers = set()
    
    for match in re.finditer(pattern, text):
        number = float(match.group())
        if number not in found_numbers:
            found_numbers.add(number)
            yield number  # –û—Å—å –≤–æ–Ω–∞, –º–∞–≥—ñ—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞! –í–∏–¥–∞—é —á–∏—Å–ª–∞ –ø–æ –æ–¥–Ω–æ–º—É, –µ–∫–æ–Ω–æ–º–ª—é –ø–∞–º'—è—Ç—å!

def sum_profit(text: str, func: Callable[[str], Generator[float, None, None]]) -> float:
    """–û–±—á–∏—Å–ª—é—î –∑–∞–≥–∞–ª—å–Ω–∏–π –ø—Ä–∏–±—É—Ç–æ–∫.
    
    –¶—è —Ñ—É–Ω–∫—Ü—ñ—è - —è–∫ –º—ñ–π –æ—Å–æ–±–∏—Å—Ç–∏–π –±—É—Ö–≥–∞–ª—Ç–µ—Ä. –ó–±–∏—Ä–∞—î –≤—Å—ñ —á–∏—Å–ª–∞,
    —â–æ –∫—Ä–æ–ø—ñ—Ç–ª–∏–≤–æ –∑–Ω–∞–π—à–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, —ñ –≤–∏–¥–∞—î –∑–∞–≥–∞–ª—å–Ω—É —Å—É–º—É.
    –ü—Ä–æ—Å—Ç–æ, –µ–ª–µ–≥–∞–Ω—Ç–Ω–æ —ñ –±–µ–∑ –∑–∞–π–≤–∏—Ö —Ä—É—Ö—ñ–≤!
    """
    return sum(func(text))  # –û–¥–∏–Ω —Ä—è–¥–æ–∫ –∫–æ–¥—É, –∞ —Å–∫—ñ–ª—å–∫–∏ –∫–æ—Ä–∏—Å—Ç—ñ! –°—É–º–∞ –≤—Å—ñ—Ö —á–∏—Å–µ–ª, —è–∫ –Ω–∞ –¥–æ–ª–æ–Ω—ñ!

# –¢–µ—Å—Ç—É—î–º–æ —Ü—é –∫—Ä–∞—Å—É –≤ –¥—ñ—ó!
text = "–ó–∞–≥–∞–ª—å–Ω–∏–π –¥–æ—Ö—ñ–¥ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∞ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –¥–µ–∫—ñ–ª—å–∫–æ—Ö —á–∞—Å—Ç–∏–Ω: 1000.01 —è–∫ –æ—Å–Ω–æ–≤–Ω–∏–π –¥–æ—Ö—ñ–¥, –¥–æ–ø–æ–≤–Ω–µ–Ω–∏–π –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –Ω–∞–¥—Ö–æ–¥–∂–µ–Ω–Ω—è–º–∏ 27.45 —ñ 324.00 –¥–æ–ª–∞—Ä—ñ–≤."
total_income = sum_profit(text, generator_numbers)
print(f"–ó–∞–≥–∞–ª—å–Ω–∏–π –¥–æ—Ö—ñ–¥: {total_income}")  # –ë–∞—Ä–∞–±–∞–Ω–Ω–∏–π –¥—Ä—ñ–±... —ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –µ–∫—Ä–∞–Ω—ñ!